<div class="row">
  <div class="col">
    <div class="text-center mb-4">
      <h1>Welcome to 1x1 Roleplay Hub</h1>
      <p class="lead">Develop characters, create stories, and write together with friends.</p>
      
      <% if (!user) { %>
        <div class="mt-4">
          <a href="/auth/register" class="btn btn-lg">Get Started</a>
          <a href="/auth/login" class="btn btn-lg btn-outline ml-2">Login</a>
        </div>
      <% } else { %>
        <div class="mt-4">
          <a href="/dashboard" class="btn btn-lg">Go to Dashboard</a>
        </div>
      <% } %>
    </div>
  </div>
</div>

<div class="row mt-4">
  <div class="col">
    <div class="card">
      <div class="card-body">
        <h3>Create Characters</h3>
        <p>Build detailed character profiles with personality traits, backgrounds, and relationships.</p>
        <a href="/characters" class="btn">Explore Characters</a>
      </div>
    </div>
  </div>
  
  <div class="col">
    <div class="card">
      <div class="card-body">
        <h3>Write Together</h3>
        <p>Start writing threads with friends and develop stories collaboratively.</p>
        <a href="/writing/threads" class="btn">Browse Threads</a>
      </div>
    </div>
  </div>
  
  <div class="col">
    <div class="card">
      <div class="card-body">
        <h3>Track Relationships</h3>
        <p>Map the connections between characters and visualize their dynamics.</p>
        <a href="/characters" class="btn">See Characters</a>
      </div>
    </div>
  </div>
</div>

<% if (typeof recentCharacters !== 'undefined' && recentCharacters.length > 0) { %>
<div class="mt-5">
  <h2>Recently Created Characters</h2>
  
  <div class="row mt-3">
    <% recentCharacters.forEach(character => { %>
      <div class="col" style="flex: 0 0 33.333333%;">
        <div class="character-card">
          <% if (character.avatarUrl) { %>
            <img src="<%= character.avatarUrl %>" alt="<%= character.name %>" class="character-image">
          <% } else { %>
            <div class="character-image" style="background-color: #555; display: flex; align-items: center; justify-content: center;">
              <span style="font-size: 2rem; color: #999;"><%= character.name.charAt(0).toUpperCase() %></span>
            </div>
          <% } %>
          
          <div class="character-info">
            <h4 class="character-name"><%= character.name %></h4>
            <% if (character.shortBio) { %>
              <p class="character-bio"><%= character.shortBio %></p>
            <% } %>
            <div class="character-tags">
              <% if (character.gender) { %>
                <span class="character-tag"><%= character.gender %></span>
              <% } %>
              <% if (character.User) { %>
                <span class="character-tag">by <%= character.User.username %></span>
              <% } %>
            </div>
            <div class="mt-2">
              <a href="/characters/<%= character.id %>" class="btn btn-sm">View Profile</a>
            </div>
          </div>
        </div>
      </div>
    <% }); %>
  </div>
</div>
<% } %>