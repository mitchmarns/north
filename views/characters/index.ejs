<div class="d-flex justify-between align-center mb-4">
  <h1>Character Directory</h1>
  <% if(user) { %>
    <a href="/characters/create" class="btn">
      <i class="fas fa-plus"></i> Create Character
    </a>
  <% } %>
</div>

<div class="row">
  <% characters.forEach(character => { %>
    <div class="col" style="flex: 0 0 33.333333%; margin-bottom: 20px;">
      <div class="character-card">
        <% if (character.avatarUrl) { %>
          <img src="<%= character.avatarUrl %>" alt="<%= character.name %>" class="character-image">
        <% } else { %>
          <div class="character-image" style="background-color: #555; display: flex; align-items: center; justify-content: center;">
            <span style="font-size: 2rem; color: #999;"><%= character.name.charAt(0).toUpperCase() %></span>
          </div>
        <% } %>
        
        <div class="character-info">
          <h4 class="character-name"><%= character.name %></h4>
          <% if (character.shortBio) { %>
            <p class="character-bio"><%= character.shortBio %></p>
          <% } %>
          <div class="character-tags">
            <% if (character.gender) { %>
              <span class="character-tag"><%= character.gender %></span>
            <% } %>
            <span class="character-tag">by <%= character.User.username %></span>
          </div>
          <div class="mt-2">
            <a href="/characters/<%= character.id %>" class="btn btn-sm">View Profile</a>
          </div>
        </div>
      </div>
    </div>
  <% }); %>
</div>